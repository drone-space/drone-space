// glitch.module.scss

.glitchContainer {
  position: relative;
  display: inline-block;
  font-size: 2rem;
  font-weight: bold;
  font-family: 'Arial', sans-serif;
}

.glitchText {
  position: relative;
  z-index: 1;
  color: var(--mantine-color-white);

  &::before,
  &::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    color: var(--mantine-color-white);
  }

  &::before {
    left: -2px;
    text-shadow: 2px 0 var(--mantine-color-pink-6);
    clip: rect(44px, 999px, 56px, 0);
    animation: glitch-anim-1 8s infinite steps(1) alternate-reverse;
  }

  &::after {
    left: 2px;
    text-shadow: -2px 0 var(--mantine-color-red-6);
    clip: rect(24px, 999px, 100px, 0);
    animation: glitch-anim-2 12s infinite steps(1) alternate-reverse;
  }
}

@keyframes glitch-anim-1 {
  0%,
  100% {
    clip: rect(0, 0, 0, 0); /* No glitch most of the time */
  }
  2% {
    clip: rect(34px, 999px, 66px, 0);
  }
  4% {
    clip: rect(98px, 999px, 30px, 0);
  }
  6%,
  94% {
    clip: rect(0, 0, 0, 0); /* No glitch */
  }
  96% {
    clip: rect(18px, 999px, 56px, 0);
  }
  98% {
    clip: rect(12px, 999px, 62px, 0);
  }
}

@keyframes glitch-anim-2 {
  0%,
  100% {
    clip: rect(0, 0, 0, 0); /* No glitch most of the time */
  }
  10% {
    clip: rect(12px, 999px, 42px, 0);
  }
  12% {
    clip: rect(54px, 999px, 92px, 0);
  }
  14%,
  45% {
    clip: rect(0, 0, 0, 0); /* No glitch */
  }
  47% {
    clip: rect(32px, 999px, 90px, 0);
  }
  49%,
  78% {
    clip: rect(0, 0, 0, 0); /* No glitch */
  }
  80% {
    clip: rect(63px, 999px, 86px, 0);
  }
  82% {
    clip: rect(0, 0, 0, 0); /* No glitch */
  }
}
